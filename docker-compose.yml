services:
  dev:
    container_name: type-ahead-dev
    build:
      context: .
      dockerfile: dev.Dockerfile
    command:
      - "target/debug/type_ahead"
    ports:
      - 5000:5000/tcp
    volumes:
      - ./src:/type_ahead/src
      - ./target:/type_ahead/target
  release:
    container_name: type-ahead-release
    build:
      context: .
      dockerfile: release.Dockerfile
    command:
      - "target/release/type_ahead"
    ports:
      - 5000:5000/tcp